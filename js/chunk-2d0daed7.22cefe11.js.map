{"version":3,"sources":["webpack:///./src/views/services/EditarServicios.vue?d0e4","webpack:///src/views/services/EditarServicios.vue","webpack:///./src/views/services/EditarServicios.vue?8550","webpack:///./src/views/services/EditarServicios.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","for","_v","directives","name","rawName","value","servicio","expression","type","id","aria-describedby","placeholder","domProps","on","input","$event","target","composing","$set","change","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","_l","tipoServicio","key","_s","descripcion","_m","staticStyle","height","src","imageURL","error_msj","length","role","click","preventDefault","editarServicio","staticRenderFns","EditarServiciosvue_type_script_lang_js_","props","data","tipo_servicios","created","obtenerTipoServicios","mounted","$","fileName","next","html","methods","_this","axios_default","a","get","serverUrl","then","response","catch","error","console","log","_this2","btnGuardar","document","querySelector","disabled","nombre","tipoServicioId","FormData","attr","append","imagen","getElementById","files","post","headers","accept","Content-Type","concat","_boundary","$emit","rndInt","Math","floor","random","services_EditarServiciosvue_type_script_lang_js_","component","Object","componentNormalizer","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0daed7.22cefe11.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleInputService\"}},[_vm._v(\"Nombre de Servicio\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.servicio.nombre),expression:\"servicio.nombre\"}],staticClass:\"form-control\",attrs:{\"type\":\"Services\",\"id\":\"Service\",\"aria-describedby\":\"Services\",\"placeholder\":\"Servicio\"},domProps:{\"value\":(_vm.servicio.nombre)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.servicio, \"nombre\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleInputdescripción\"}},[_vm._v(\"Descripción de servicio\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.servicio.descripcion),expression:\"servicio.descripcion\"}],staticClass:\"form-control\",attrs:{\"type\":\"descripción\",\"id\":\"ServicesDescription\",\"placeholder\":\"Descripcion de Servicio\"},domProps:{\"value\":(_vm.servicio.descripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.servicio, \"descripcion\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleFormControlType\"}},[_vm._v(\"Tipo de servicio\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.servicio.tipoServicioId),expression:\"servicio.tipoServicioId\"}],staticClass:\"form-control\",attrs:{\"id\":\"ProductType\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.servicio, \"tipoServicioId\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.tipo_servicios),function(tipoServicio){return _c('option',{key:tipoServicio.id,domProps:{\"value\":tipoServicio.id}},[_vm._v(_vm._s(tipoServicio.descripcion))])}))]),_vm._m(0),_c('div',{staticClass:\"form-group\"},[_c('center',[_c('img',{staticClass:\"img-fluid\",staticStyle:{\"height\":\"200px\"},attrs:{\"src\":_vm.imageURL(_vm.servicio.id)}})])],1),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleFormControlEnlace\"}},[_vm._v(\"Enlace\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.servicio.enlace),expression:\"servicio.enlace\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"exampleFormControlEnlace\"},domProps:{\"value\":(_vm.servicio.enlace)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.servicio, \"enlace\", $event.target.value)}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.error_msj.length > 0),expression:\"error_msj.length > 0\"}],staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.error_msj))]),_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"id\":\"guardar\",\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.editarServicio($event)}}},[_vm._v(\"Guardar\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group mb-3\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\",attrs:{\"id\":\"inputGroupFileAddon01\"}},[_vm._v(\"Imagen\")])]),_c('div',{staticClass:\"custom-file\"},[_c('input',{staticClass:\"custom-file-input\",attrs:{\"type\":\"file\",\"id\":\"editarServicioImagen\",\"aria-describedby\":\"inputGroupFileAddon01\"}}),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":\"editarServicioImagen\"}},[_vm._v(\"Reeemplazar imagen\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <form>\r\n    <div class=\"form-group\">\r\n      <label for=\"exampleInputService\">Nombre de Servicio</label>\r\n      <input\r\n        type=\"Services\"\r\n        class=\"form-control\"\r\n        id=\"Service\"\r\n        aria-describedby=\"Services\"\r\n        placeholder=\"Servicio\"\r\n        v-model=\"servicio.nombre\"\r\n      >\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"exampleInputdescripción\">Descripción de servicio</label>\r\n      <input\r\n        type=\"descripción\"\r\n        class=\"form-control\"\r\n        id=\"ServicesDescription\"\r\n        placeholder=\"Descripcion de Servicio\"\r\n        v-model=\"servicio.descripcion\"\r\n      >\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"exampleFormControlType\">Tipo de servicio</label>\r\n      <select class=\"form-control\" id=\"ProductType\" v-model=\"servicio.tipoServicioId\">\r\n        <option\r\n          v-for=\"tipoServicio in tipo_servicios\"\r\n          :key=\"tipoServicio.id\"\r\n          :value=\"tipoServicio.id\"\r\n        >{{tipoServicio.descripcion}}</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"input-group mb-3\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text\" id=\"inputGroupFileAddon01\">Imagen</span>\r\n      </div>\r\n      <div class=\"custom-file\">\r\n        <input type=\"file\" class=\"custom-file-input\" id=\"editarServicioImagen\" aria-describedby=\"inputGroupFileAddon01\">\r\n        <label class=\"custom-file-label\" for=\"editarServicioImagen\">Reeemplazar imagen</label>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <center>\r\n        <img :src=\"imageURL(servicio.id)\" class=\"img-fluid\" style=\"height: 200px\">\r\n      </center>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"exampleFormControlEnlace\">Enlace</label>\r\n      <input class=\"form-control\" type=\"text\" id=\"exampleFormControlEnlace\" v-model=\"servicio.enlace\">\r\n    </div>\r\n\r\n    <div class=\"alert alert-danger\" role=\"alert\" v-show=\"error_msj.length > 0\">{{error_msj}}</div>\r\n\r\n    <div class=\"form-group\">\r\n      <button id=\"guardar\" type=\"submit\" class=\"btn btn-primary\" @click.prevent=\"editarServicio\">Guardar</button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\n\r\nexport default {\r\n  props: ['servicio'],\r\n\r\n  data(){\r\n      return {\r\n\r\n          tipo_servicios: [],\r\n          error_msj: ''\r\n      }\r\n  },\r\n  created() {\r\n    this.obtenerTipoServicios();\r\n  },\r\n  mounted(){\r\n    $('.custom-file-input').on('change',function(){\r\n      //get the file name\r\n      var fileName = $(this).val();\r\n      //replace the \"Choose a file\" label\r\n      $(this).next('.custom-file-label').html(fileName);\r\n    })\r\n  },\r\n  methods: {\r\n    obtenerTipoServicios() {\r\n      axios.get(this.serverUrl+\"/servicios/tipo-servicios\").then(response => {\r\n        const data = response.data;\r\n        this.tipo_servicios = data.tipo_servicios;\r\n      }).catch(error => {\r\n        console.log(\"error de conexion\", error);\r\n      });\r\n    },\r\n  \r\n    editarServicio(){\r\n      const btnGuardar = document.querySelector(\"#guardar\");\r\n      btnGuardar.disabled = true;\r\n      \r\n      if (!this.servicio.nombre) {\r\n        this.error_msj = \"Campo nombre es obligatorio\";\r\n        btnGuardar.disabled = false;\r\n        return;\r\n      }\r\n      \r\n      if (!this.servicio.descripcion) {\r\n        this.error_msj = \"Campo descripcion es obligatorio\";\r\n        btnGuardar.disabled = false;\r\n        return;\r\n      }\r\n\r\n      if (!this.servicio.tipoServicioId) {\r\n        this.error_msj = \"Campo tipo de servicio es obligatorio\";\r\n        btnGuardar.disabled = false;\r\n        return;\r\n      }\r\n    \r\n      this.error_msj = \"\";\r\n\r\n      const data = new FormData()\r\n\r\n      for(let attr in this.servicio){\r\n        data.append(attr, this.servicio[attr])\r\n      }\r\n\r\n      const imagen = document.getElementById('editarServicioImagen').files[0]\r\n\r\n      data.append('imageType', 'servicios')\r\n      data.append('imagen', imagen)\r\n\r\n      axios.post(\r\n       this.serverUrl+\"/servicios/editar\",\r\n        data,\r\n        {\r\n          headers: {\r\n            'accept': 'application/json',\r\n            'Content-Type': `multipart/form-data; boundary=${data._boundary}`\r\n          }\r\n        }).then(response => {\r\n          \r\n          btnGuardar.disabled = false;\r\n          this.$emit('edit')\r\n\r\n        }).catch(error => {\r\n          btnGuardar.disabled = false;\r\n          console.log(error);\r\n        });\r\n    },\r\n\r\n    imageURL(id){\r\n      if (!id)\r\n        return ''\r\n\r\n      const rndInt = Math.floor(Math.random() * 101); \r\n      return this.serverUrl+'/files/images/servicios/'+id+'.jpg?'+rndInt\r\n    }\r\n}\r\n    \r\n}\r\n\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditarServicios.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditarServicios.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditarServicios.vue?vue&type=template&id=50975c5e&\"\nimport script from \"./EditarServicios.vue?vue&type=script&lang=js&\"\nexport * from \"./EditarServicios.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"EditarServicios.vue\"\nexport default component.exports"],"sourceRoot":""}