(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2133c2"],{ac8b:function(o,t,e){"use strict";e.r(t);var r=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputProduct"}},[o._v("Nombre de Producto")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.producto.nombre,expression:"producto.nombre"}],staticClass:"form-control",attrs:{type:"Product",id:"Product","aria-describedby":"Product",placeholder:"Producto"},domProps:{value:o.producto.nombre},on:{input:function(t){t.target.composing||o.$set(o.producto,"nombre",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputdescripci贸n"}},[o._v("Descripci贸n de producto")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.producto.descripcion,expression:"producto.descripcion"}],staticClass:"form-control",attrs:{type:"descripci贸n",id:"ProductDescription",placeholder:"Descripci贸n de producto"},domProps:{value:o.producto.descripcion},on:{input:function(t){t.target.composing||o.$set(o.producto,"descripcion",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputModel"}},[o._v("Modelo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.producto.modelo,expression:"producto.modelo"}],staticClass:"form-control",attrs:{type:"Model",id:"Model",placeholder:"Modelo"},domProps:{value:o.producto.modelo},on:{input:function(t){t.target.composing||o.$set(o.producto,"modelo",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlType"}},[o._v("Tipo de Producto")]),e("select",{directives:[{name:"model",rawName:"v-model",value:o.producto.tipoProductoId,expression:"producto.tipoProductoId"}],staticClass:"form-control",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(o){return o.selected}).map(function(o){var t="_value"in o?o._value:o.value;return t});o.$set(o.producto,"tipoProductoId",t.target.multiple?e:e[0])}}},o._l(o.tipo_producto,function(t){return e("option",{key:t.id,domProps:{value:t.id}},[o._v(o._s(t.descripcion))])}))]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlSegment"}},[o._v("Tipo de Segmento")]),e("select",{directives:[{name:"model",rawName:"v-model",value:o.producto.tipoSegmentoId,expression:"producto.tipoSegmentoId"}],staticClass:"form-control",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(o){return o.selected}).map(function(o){var t="_value"in o?o._value:o.value;return t});o.$set(o.producto,"tipoSegmentoId",t.target.multiple?e:e[0])}}},o._l(o.tipo_segmentos,function(t){return e("option",{key:t.id,domProps:{value:t.id}},[o._v(o._s(t.descripcion))])}))]),o._m(0),e("div",{staticClass:"form-group"},[e("center",[e("img",{staticClass:"img-fluid",staticStyle:{height:"200px"},attrs:{src:o.imageURL(o.producto.id)}})])],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlEnlace"}},[o._v("Enlace")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.producto.enlace,expression:"producto.enlace"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlEnlace"},domProps:{value:o.producto.enlace},on:{input:function(t){t.target.composing||o.$set(o.producto,"enlace",t.target.value)}}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:o.error_msj.length>0,expression:"error_msj.length > 0"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[o._v(o._s(o.error_msj))]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{id:"guardar",type:"submit"},on:{click:function(t){return t.preventDefault(),o.editarProducto(t)}}},[o._v("Guardar")])])])},i=[function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"input-group mb-3"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroupFileAddon01"}},[o._v("Imagen")])]),e("div",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"editarProducoImagen","aria-describedby":"inputGroupFileAddon01"}}),e("label",{staticClass:"custom-file-label",attrs:{for:"editarProducoImagen"}},[o._v("Reeemplazar imagen")])])])}],a=e("bc3a"),s=e.n(a),n={props:["producto"],data:function(){return{tipo_segmentos:[],tipo_producto:[],error_msj:""}},created:function(){this.obtenerTipoProductos(),this.obtenerTipoSegmentos()},mounted:function(){$(".custom-file-input").on("change",function(){var o=$(this).val();$(this).next(".custom-file-label").html(o)})},methods:{obtenerTipoProductos:function(){var o=this;s.a.get(this.serverUrl+"/productos/tipo_producto").then(function(t){var e=t.data;o.tipo_producto=e.tipo_producto}).catch(function(o){console.log("error de conexion",o)})},obtenerTipoSegmentos:function(){var o=this;s.a.get(this.serverUrl+"/productos/tipo_segmentos").then(function(t){var e=t.data;o.tipo_segmentos=e.tipo_segmentos}).catch(function(o){console.log("error de conexion",o)})},editarProducto:function(){var o=this,t=document.querySelector("#guardar");if(t.disabled=!0,!this.producto.nombre)return this.error_msj="Campo nombre es obligatorio",void(t.disabled=!1);if(!this.producto.descripcion)return this.error_msj="Campo descripcion es obligatorio",void(t.disabled=!1);if(!this.producto.modelo)return this.error_msj="Campo modelo es obligatorio",void(t.disabled=!1);if(!this.producto.tipoProductoId)return this.error_msj="Campo tipo producto es obligatorio",void(t.disabled=!1);if(!this.producto.segmentoId)return this.error_msj="Campo segmento es obligatorio",void(t.disabled=!1);var e=document.getElementById("editarProducoImagen").files[0];this.error_msj="";var r=new FormData;for(var i in this.producto)r.append(i,this.producto[i]);r.append("imageType","productos"),r.append("imagen",e),s.a.post(this.serverUrl+"/productos/editar",r,{headers:{accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(r._boundary)}}).then(function(e){t.disabled=!1,o.$emit("edit")}).catch(function(o){t.disabled=!1,console.log(o)})},imageURL:function(o){if(!o)return"";var t=Math.floor(101*Math.random());return this.serverUrl+"/files/images/productos/"+o+".jpg?"+t}}},c=n,d=e("2877"),l=Object(d["a"])(c,r,i,!1,null,null,null);l.options.__file="EditarProductos.vue";t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d2133c2.fb5d8617.js.map